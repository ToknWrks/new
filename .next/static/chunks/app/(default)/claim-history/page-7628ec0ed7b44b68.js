(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3661],{84077:function(e,s,n){Promise.resolve().then(n.bind(n,99136))},99136:function(e,s,n){"use strict";n.r(s);var t=n(57437),o=n(2265),a=n(36379),i=n(19505),r=n(29150);n(15984),n(24425),n(42832);let c={},d=0,l=Date.now(),m=async e=>{if(c[e])return c[e];d>=10&&Date.now()-l<6e4&&(console.warn("Rate limit exceeded, waiting..."),await new Promise(e=>setTimeout(e,6e4-(Date.now()-l))),d=0,l=Date.now());try{var s;let n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(e,"&vs_currencies=usd")),t=await n.json(),o=(null===(s=t[e])||void 0===s?void 0:s.usd)||0;return c[e]=o,d++,o}catch(s){if(console.error("Failed to fetch price for ".concat(e,":"),s),c[e])return console.warn("Using cached price for ".concat(e,": ").concat(c[e])),c[e];return 0}};s.default=()=>{let[e,s]=(0,o.useState)([]),[n,c]=(0,o.useState)(!1),[d,l]=(0,o.useState)(null),[p,h]=(0,o.useState)(null),[u,g]=(0,o.useState)(0),[b,f]=(0,o.useState)({});(0,o.useEffect)(()=>{let e=localStorage.getItem("user");if(console.log("User data from local storage:",e),e){c(!0);let s=JSON.parse(e);l(s.id),j(s.id),y(),x()}},[]);let j=async e=>{try{console.log("Fetching claims for userId:",e);let n=await fetch("/api/claims?userId=".concat(e));if(!n.ok)throw Error("HTTP error! status: ".concat(n.status));let t=await n.json();console.log("Fetched claims data:",t),s(t)}catch(e){console.error("Failed to fetch claims:",e)}},y=()=>{let e=localStorage.getItem("dashboardSettings");e&&g(JSON.parse(e).TaxRate||0)},x=async()=>{try{console.log("Fetching current prices");let e=(await Promise.all(a.zG.map(async e=>{let s=await m(e.AssetId);return{[e.Symbol]:s}}))).reduce((e,s)=>({...e,...s}),{});console.log("Fetched current prices:",e),f(e)}catch(e){console.error("Failed to fetch current prices:",e)}},A=e=>{let s=a.zG.find(s=>s.chainName===e);return s?s.icon:""},w=e=>{h(p===e?null:e)},v=e.reduce((e,s)=>(e[s.chain_name]||(e[s.chain_name]=[]),e[s.chain_name].push(s),e),{}),k=(e,s)=>(e*s*(u/100)).toFixed(2),I=(e,s)=>(e*s).toFixed(2),F=(e,s)=>(e*s).toFixed(2),C=(e,s)=>(s-e).toFixed(2);return n?(0,t.jsx)("div",{className:"container mx-auto px-4 max-w-6xl mt-4",children:Object.keys(v).map(e=>(0,t.jsxs)("div",{className:"mb-4 px-4",children:[" ",(0,t.jsxs)("div",{className:"accordion-header relative flex h-14 items-center gap-3 rounded-2xl bg-gray-900/90 px-3 before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:border before:border-transparent before:[background:linear-gradient(to_right,theme(colors.gray.800),theme(colors.gray.700),theme(colors.gray.800))_border-box] before:[mask-composite:exclude_!important] before:[mask:linear-gradient(white_0_0)_padding-box,_linear-gradient(white_0_0)] after:absolute after:inset-0 after:-z-10 after:backdrop-blur-sm",onClick:()=>w(e),children:[(0,t.jsx)("img",{src:A(e),alt:"".concat(e," icon"),className:"h-6 w-6 mr-2"}),(0,t.jsx)("h2",{className:"text-xl font-semibold",children:e})]}),p===e&&(0,t.jsx)("div",{className:"accordion-body bg-gray-200 p-4 rounded-b-lg border border-gray-600",children:(0,t.jsxs)(i.w,{value:v[e],stripedRows:!0,children:[(0,t.jsx)(r.s,{field:"tokens_claimed",header:"Claimed",body:e=>parseFloat(e.tokens_claimed).toFixed(2),className:"text-center"}),(0,t.jsx)(r.s,{field:"token_price",header:"Price",body:e=>"$".concat(parseFloat(e.token_price).toFixed(2)),className:"text-center"}),(0,t.jsx)(r.s,{field:"date_claimed",header:"Date",body:e=>new Date(e.date_claimed).toLocaleDateString(),className:"text-center"}),(0,t.jsx)(r.s,{field:"tax",header:"Tax",body:e=>"$".concat(k(parseFloat(e.tokens_claimed),parseFloat(e.token_price))),className:"text-center"}),(0,t.jsx)(r.s,{field:"basis",header:"Basis",body:e=>"$".concat(I(parseFloat(e.tokens_claimed),parseFloat(e.token_price))),className:"text-center"}),(0,t.jsx)(r.s,{field:"value",header:"Value",body:e=>"$".concat(F(parseFloat(e.tokens_claimed),b[e.token_symbol]||parseFloat(e.token_price))),className:"text-center"}),(0,t.jsx)(r.s,{field:"profit_loss",header:"P&L",body:e=>"$".concat(C(parseFloat(I(parseFloat(e.tokens_claimed),parseFloat(e.token_price))),parseFloat(F(parseFloat(e.tokens_claimed),b[e.token_symbol]||parseFloat(e.token_price))))),className:"text-center"})]})})]},e))}):(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4 mt-4",children:"Claims"}),(0,t.jsx)("p",{className:"text-blue-500",children:"You must be logged in to view claim data."})]})}},36379:function(e,s,n){"use strict";n.d(s,{zG:function(){return t}});let t=[{chainName:"Cosmos Hub",chainId:"cosmoshub-4",rpcEndpoint:"https://cosmos-rpc.publicnode.com",restEndpoint:"https://cosmos-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/cosmoshub/images/atom.png",AddressForChain:"cosmosAddress",AssetId:"cosmos",Denom:"uatom",decimals:6,Symbol:"ATOM",gasPrice:"0.0025uosmo",gasMultiplier:1.2,unbondingDays:21,swapPoolId:1282,sourceChannel:"channel-141",destinationChannel:"channel-0",destinationPort:"transfer",tipAddress:"cosmos1vj0h76hp378ufnypjv2234m23q2g7pj98r7dgq"},{chainName:"Osmosis",chainId:"osmosis-1",rpcEndpoint:"https://osmosis-rpc.publicnode.com",restEndpoint:"https://osmosis-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/osmosis/images/osmo.png",AddressForChain:"osmosisAddress",AssetId:"osmosis",Denom:"uosmo",decimals:6,Symbol:"OSMO",gasPrice:"0.0025uosmo",gasMultiplier:1.2,unbondingDays:14,swapPoolId:1464,tipAddress:"osmo1vj0h76hp378ufnypjv2234m23q2g7pj90cda7j"},{chainName:"Akash",chainId:"akashnet-2",rpcEndpoint:"https://akash-rpc.publicnode.com",restEndpoint:"https://akash-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/akash/images/akt.png",AddressForChain:"akashAddress",AssetId:"akash-network",Denom:"uakt",decimals:6,Symbol:"AKT",gasPrice:"0.025uakt",gasMultiplier:1.3,unbondingDays:21,swapPoolId:1301,sourceChannel:"channel-9",destinationChannel:"channel-1",tipAddress:"akash1vj0h76hp378ufnypjv2234m23q2g7pj92cn236"},{chainName:"Regen",chainId:"regen-1",rpcEndpoint:"https://regen-rpc.publicnode.com",restEndpoint:"https://regen-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/regen/images/regen.png",AddressForChain:"regenAddress",AssetId:"regen",Denom:"uregen",decimals:6,Symbol:"REGEN",gasPrice:"0.025uregen",gasMultiplier:1.3,unbondingDays:21,swapPoolId:1464,intermediateSwapPoolId:1483,sourceChannel:"channel-1",destinationChannel:"channel-8",tipAddress:"regen1vj0h76hp378ufnypjv2234m23q2g7pj9cp437y"},{chainName:"Celestia",chainId:"celestia",rpcEndpoint:"https://celestia-rpc.publicnode.com",restEndpoint:"https://celestia-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/celestia/images/celestia.png",AddressForChain:"celestiaAddress",AssetId:"celestia",Denom:"utia",decimals:6,Symbol:"TIA",gasPrice:"0.025utia",gasMultiplier:1.3,unbondingDays:21,swapPoolId:1247,sourceChannel:"channel-2",destinationChannel:"channel-6994",destinationPort:"transfer",tipAddress:"celestia1vj0h76hp378ufnypjv2234m23q2g7pj9kf0ajd"},{chainName:"Injective",chainId:"injective-1",rpcEndpoint:"https://injective-rpc.publicnode.com",restEndpoint:"https://injective-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/injective/images/inj.png",AddressForChain:"injectiveAddress",AssetId:"injective-protocol",Denom:"inj",decimals:18,Symbol:"INJ",gasPrice:"0.00025inj",gasMultiplier:1.2,unbondingDays:21,swapPoolId:1319,tipAddress:"inj1ssau0dhrmcaj4rj845xh4l8v0e03rr4x4asr9h"},{chainName:"Omniflix",chainId:"omniflixhub-1",rpcEndpoint:"https://omniflix-rpc.publicnode.com",restEndpoint:"https://omniflix-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/omniflixhub/images/flix.png",AddressForChain:"omniflixAddress",AssetId:"omniflix-network",Denom:"uflix",decimals:6,Symbol:"FLIX",gasPrice:"0.025uflix",gasMultiplier:1.3,unbondingDays:21,swapPoolId:1895,sourceChannel:"channel-1",destinationChannel:"channel-199",tipAddress:"omniflix1vj0h76hp378ufnypjv2234m23q2g7pj96a05l7"},{chainName:"Sentinel",chainId:"sentinelhub-2",rpcEndpoint:"https://rpc.cosmos.directory/sentinel",restEndpoint:"https://rest.cosmos.directory/sentinel",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/sentinel/images/dvpn.png",AddressForChain:"sentinelAddress",AssetId:"sentinel",Denom:"udvpn",decimals:6,Symbol:"DVPN",gasPrice:"0.025udvpn",gasMultiplier:1.3,unbondingDays:21,swapPoolId:5,sourceChannel:"channel-2",destinationChannel:"channel-0",destinationPort:"transfer",tipAddress:"sent1vj0h76hp378ufnypjv2234m23q2g7pj9ucg5v0"},{chainName:"Juno",chainId:"juno-1",rpcEndpoint:"https://juno-rpc.publicnode.com",restEndpoint:"https://juno-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/juno/images/juno.png",AddressForChain:"junoAddress",AssetId:"juno-network",Denom:"ujuno",decimals:6,Symbol:"JUNO",gasPrice:"0.025ujuno",gasMultiplier:1.3,unbondingDays:28,swapPoolId:1097,sourceChannel:"channel-0",destinationChannel:"channel-42",tipAddress:"juno1vj0h76hp378ufnypjv2234m23q2g7pj933ak0u"},{chainName:"Stargaze",chainId:"stargaze-1",rpcEndpoint:"https://stargaze-rpc.publicnode.com",restEndpoint:"https://stargaze-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/stargaze/images/stars.png",AddressForChain:"stargazeAddress",AssetId:"stargaze",Denom:"ustars",decimals:6,Symbol:"STARS",gasPrice:"0.025ustars",gasMultiplier:1.3,unbondingDays:14,swapPoolId:1096,sourceChannel:"channel-75",destinationChannel:"channel-0",destinationPort:"transfer",tipAddress:"stars1vj0h76hp378ufnypjv2234m23q2g7pj9nlfsr3"},{chainName:"Coreum",chainId:"coreum-mainnet-1",rpcEndpoint:"https://coreum-rpc.publicnode.com",restEndpoint:"https://coreum-rest.publicnode.com",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/coreum/images/coreum.png",AddressForChain:"coreumAddress",AssetId:"coreum",Denom:"ucore",decimals:6,Symbol:"CORE",gasPrice:"0.025ucore",gasMultiplier:1.3,unbondingDays:14,swapPoolId:1244,tipAddress:"core12lkpgzejkm4var5zl5f65lhg8e50h9ndmj7mr3"},{chainName:"Atone",chainId:"atomone-1",rpcEndpoint:"https://rpc.cosmos.directory/atomone",restEndpoint:"https://rest.cosmos.directory/atomone",icon:"https://raw.githubusercontent.com/cosmos/chain-registry/master/atomone/images/atomone.png",AddressForChain:"atoneAddress",AssetId:"atomeone",Denom:"uatone",decimals:6,Symbol:"ATONE",gasPrice:"0.025uatone",gasMultiplier:1.3,unbondingDays:21,swapPoolId:2741,sourceChannel:"channel-9",destinationChannel:"channel-1",tipAddress:"atone1vj0h76hp378ufnypjv2234m23q2g7pj9frz27c"}]}},function(e){e.O(0,[9477,6855,3651,8458,2971,2117,1744],function(){return e(e.s=84077)}),_N_E=e.O()}]);